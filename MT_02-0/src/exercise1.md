# "Серый ящик"

### Тестирование методом "серого ящика" (Gray-box) 
```
— метод тестирования программного обеспечения, 
который предполагает, что внутренняя структура тестируемого объекта 
изначально известна частично и выясняется по мере исследования.
```

Основной посыл этого метода тестирования в том, что нам известны только некоторые особенности реализации тестируемой системы.

Эту технику тестирования также называют методом полупрозрачного ящика: что-то мы видим, а что-то – нет.

Кто-то говорит, что этот вид тестирования — это симбиоз белого и черного ящика. Кто-то противопоставляет его белому и черному, опираясь на то, что внутренняя структура тестируемого объекта изначально известна частично и выясняется по мере исследования.

Данный вид тестирования часто используется для тестирования сложных систем, где важно понимание внутренней работы программного обеспечения, но не всегда возможно или практично. 

Тестирование методом серого ящика также можно использовать для проверки безопасности и надежности программного обеспечения, поскольку оно может помочь выявить потенциальные уязвимости, которые может быть трудно обнаружить только с помощью тестирования методом черного ящика.

Тестирование методом серого ящика может выполняться вручную или с помощью автоматизированных инструментов тестирования, и его можно использовать для различных типов тестирования, включая функциональное тестирование, тестирование производительности и тестирование безопасности. 

Включив данный метод тестирования в общий процесс тестирования, тестировщики могут повысить эффективность своих усилий по тестированию и помочь обеспечить высокое качество программного обеспечения и его соответствие потребностям конечных пользователей.

### Пример работы

Предоставлена информация о базе данных. Если программа использует для своей работы какую-либо БД, мы можем проанализировать типы полей, в которые записываются переменные программы. А потом проанализировать ограничения, которые накладывает база.

Например, если вводимая фамилия пользователя записывается в поле типа «строка» длиной 128 символов, мы должны:

- попробовать найти фамилию длиннее, чем 128 символов — здесь будет довольно серьезный баг, если такие фамилии существуют — человек с такой фамилией не сможет воспользоваться нашей системой;
- не зависимо от того, существуют или нет такие фамилии, попробовать ввести строку больше 128 символов — программа не должна ломаться (должно показываться внятное сообщение об ошибке).
- Если программа интегрируется с другими внешними системами, помимо базы данных, можно также проанализировать ограничения таких систем. Например, если мы тестируем почтовый IMAP-клиент, следует убедиться, что он корректно обрабатывает длинные пути к папкам на сервере (чаще всего, ограничение на длину пути составляет 255 символов).

Кроме указанного, если мы имеем еще и доступ к коду программы, то мы можем:

- обратить внимание на специальные случаи, которые не попали в документ с требованиями и которые необходимо протестировать;
- напротив, увидеть, что какие-то вещи тестировать не имеет смысла.

### Достоинства метода:

Тестирование серого ящика включает в себя плюсы тестирования «черного» и «белого». Другими словами, тестировщик смотрит на объект тестирования с позиции «черного» ящика, но при этом проводит анализ на основе данных о системе, которые он знает .

Тестировщик может проектировать и использовать более сложные сценарии тестирования.

Основное преимущество тестирования методом серого ящика заключается в том, что оно может обеспечить более полное представление о тестируемом программном обеспечении, позволяя тестировщикам выявлять дефекты и потенциальные проблемы, которые могут быть не обнаружены только тестированием методом черного ящика. 

Комбинируя методы тестирования черного ящика и белого ящика, тестирование методом серого ящика помогает гарантировать, что программное обеспечение соответствует требованиям и спецификациям, а также что оно имеет высокое качество и работает должным образом.

Тестировщик работает вместе с разработчиком, что позволяет на начальном этапе убрать избыточные тест-кейсы. Это сокращает время функционального и нефункционального тестирования и положительно влияет на общее качество продукта.

### Недостатки метода:

Возможность анализа кода и тестового покрытия ограничена, так как либо доступ к исходному коду отсутствует, либо у тестировщика отсутствуют знания для изучения данного кода.

Тесты могут быть избыточными в том случае, когда разработчик также проверяет свой код Unit-тестами.

Нельзя протестировать все возможные потоки ввода и вывода, поскольку на это требуется слишком много времени.

### Заключение
Стратегия объединяет в себе цели двух других ящиков, одновременно является универсальным вариантом для случаев, когда нет возможности прибегнуть к White-Box-тестированию, но есть необходимость более значительного охвата тестами чем тот, что может предоставить нам Black-box. 

Тестирование методом Серого ящика будет ближе именно к Черному ящику из-за отсутствия необходимости в доступе тестировщика к исходному коду. 

Все тесты создаются на основе знания алгоритма, архитектуры, внутренних состояний, а также иных высокоуровневых описаний поведения программы.

### Важно:
```
ISTQB 
(Международный квалификационный совет по тестированию программного обеспечения)
— относит тестирование методами белого и черного ящика к методам проектирования тестов. 

Поэтому, ни о каком «среднем» или «промежуточном» методе в этом случае, конечно, и речи быть не может. 
Мы либо разрабатываем тесты, зная код, либо не зная его. 
```
То есть **в классификации ISTQB** такого вида тестирования не существует.




